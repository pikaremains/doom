-- Made originally by doombringer2006
--Open source index speed (works on games with certain anticheats), also nukes certain anticheats

-- Yes I know it is an old system, if the anticheat detects indexinstance it wont work 
-- (unless you disable since thats always client sided if I remember correctly)

--antiskidmaster6969, gotta know the basics man

--[[
    KEYBINDS (rebindable below):
    E = Enable speed
    T = Reset speed 
    Y = +10 walkSpeed
    U = -10 walkSpeed
]]--
if getgenv().SpeedEnabled == true then getgenv().SpeedEnabled = false game:GetService("Players).LocalPlayer.PlayerGui.OIYIRJghoigmw39IERWJT2:Destroy() return end
    getgenv().SpeedEnabled = true
    local enable = Enum.KeyCode.E -- obviously you gotta put Enum.KeyCode.(key), thats why its formatted this way
    local reset = Enum.KeyCode.T
    local plusten = Enum.KeyCode.Y
    local minusten = Enum.KeyCode.U


    getgenv().walkSpeed = game:GetService("StarterPlayer").CharacterWalkSpeed
    local uis = game:GetService("UserInputService")

        local screenGui = Instance.new("ScreenGui")
        screenGui.Name = "OIYIRJghoigmw39IERWJT2"
        screenGui.ResetOnSpawn = false
        screenGui.Parent = game:GetService("Players").LocalPlayer.("PlayerGui")

        local frame = Instance.new("Frame")
        frame.Size = UDim2.new(0, 150, 0, 50)
        frame.Position = UDim2.new(0.1, 0, 0.1, 0)
        frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        frame.BackgroundTransparency = 0.3
        frame.Active = true
        frame.Draggable = true
        frame.Parent = screenGui

        local uiCorner = Instance.new("UICorner")
        uiCorner.CornerRadius = UDim.new(0, 10)
        uiCorner.Parent = frame

        -- Create the TextLabel
        local textLabel = Instance.new("TextLabel")
        textLabel.Size = UDim2.new(1, 0, 1, 0)
        textLabel.BackgroundTransparency = 1
        textLabel.Text = "Walkspeed is disabled due to stratup, press 'E' to enable ".. getgenv().walkSpeed .. " speed."
        textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        textLabel.Font = Enum.Font.SourceSans
        textLabel.TextScaled = true
        textLabel.Parent = frame

    uis.InputBegan:Connect(function(input)
    if input.KeyCode == enable then
        local gmt = getrawmetatable(game)
        setreadonly(gmt, false)

        local oldindex = gmt.__index
        gmt.__index = newcclosure(function(self, b)
        if b == "WalkSpeed" then
            return game:GetService("Players").LocalPlayer.Character.Humanoid.WalkSpeed
        end

        return oldindex(self, b)

        end)

        game:GetService("Players").LocalPlayer.Character.Humanoid.WalkSpeed = getgenv().walkSpeed
        setreadonly(gmt, true)
        textLabel.Text = "WalkSpeed: ".. getgenv().walkSpeed
        print('yaaa')
        elseif input.KeyCode == plusten then
            getgenv().walkSpeed = getgenv().walkSpeed + 10
            textLabel.Text = "WalkSpeed: ".. getgenv().walkSpeed
        elseif input.KeyCode == minusten then
            getgenv().walkSpeed = getgenv().walkSpeed - 10
            textLabel.Text = "WalkSpeed: ".. getgenv().walkSpeed
        elseif input.KeyCode == reset then 
            getgenv().walkSpeed = game:GetService("StarterPlayer").CharacterWalkSpeed
            textLabel.Text = "Walkspeed reset, Press 'E' to enable ".. getgenv().walkSpeed .. " speed."
        end
    end)
    
